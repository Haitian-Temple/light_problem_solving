<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>三芝海天宮 - 五年千歲巡燈系統</title>
    <style>
        /* 基本重設與滿版設定 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        html, body {
            height: 100%;
            width: 100%;
            font-family: 'Microsoft JhengHei', sans-serif;
            overflow: hidden; /* 確保不會有滾動條 */
        }
        
        /* 讓 iframe 容器滿版 */
        .iframe-container {
            width: 100vw;
            height: 100vh;
        }
        
        /* 讓 iframe 填滿容器 */
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }
    </style>
</head>
<body oncontextmenu="return false">

    <main class="iframe-container">
        <iframe 
            src="https://script.google.com/macros/s/AKfycbyJfA2nP_kJwCLdz3x01-_g0ebQFAJGZZYNHkmDrqVTsSPUQTwenH-G6N1BuYjpGfCOrw/exec?view=client"
            id="clientFrame"
            allow="autoplay; encrypted-media; fullscreen"
            allowfullscreen>
        </iframe>
    </main>

    <script>
        // --- 程式碼保護功能 ---

        // 禁止右鍵選單
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });
        
        // 禁止文字選擇
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
            return false;
        });
        
        // 禁止拖拽
        document.addEventListener('dragstart', function(e) {
            e.preventDefault();
            return false;
        });
        
        // 禁止F12開發者工具及其他快捷鍵
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || 
                (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'C')) || 
                (e.ctrlKey && e.key === 'u')) {
                e.preventDefault();
                return false;
            }
        });
        
        // 防止通過檢查元素訪問 (循環 debugger)
        let debugCheckEnabled = false;
        setInterval(function() {
            if (debugCheckEnabled) {
                debugger;
            }
        }, 100);
        
        // 當 iframe 載入完成後，才啟用 debugger 保護
        document.getElementById('clientFrame').addEventListener('load', function() {
            debugCheckEnabled = true;
        });
        
        // 額外保護：檢測開發者工具 (開啟時會強制刷新頁面)
        (function() {
            const element = new Image();
            Object.defineProperty(element, 'id', {
                get: function() {
                    window.location.reload();
                }
            });
            console.log(element);
        })();
    </script>
</body>
</html>
